"use strict";window.addEventListener("DOMContentLoaded",function(){var e={lines:[],init:function(){this.lines.forEach(function(e){e.transform("init")})},arrow:function(){this.lines.forEach(function(e){e.transform("arrow")})},close:function(){this.lines.forEach(function(e){e.transform("close")})}};function t(t){this.status=Object.assign({init:{width:"100%",opacity:1,transform:"rotate(0deg)",top:0,left:0}},t.status),this.transform=function(e){Object.assign(document.querySelector(t.el).style,this.status[e])}}var n="right"===CONFIG.sidebar.position;e.lines=[new t({el:".sidebar-toggle-line-first",status:n?{arrow:{width:"50%",transform:"rotate(-45deg)",top:"2px"},close:{width:"100%",transform:"rotate(-45deg)",top:"5px"}}:{arrow:{width:"50%",transform:"rotate(45deg)",top:"2px",left:"50%"},close:{width:"100%",transform:"rotate(-45deg)",top:"5px",left:"0px"}}}),new t({el:".sidebar-toggle-line-middle",status:n?{arrow:{width:"90%"},close:{opacity:0}}:{arrow:{width:"90%",left:"2px"},close:{opacity:0,left:"0px"}}}),new t({el:".sidebar-toggle-line-last",status:n?{arrow:{width:"50%",transform:"rotate(45deg)",top:"-2px"},close:{width:"100%",transform:"rotate(45deg)",top:"-5px"}}:{arrow:{width:"50%",transform:"rotate(-45deg)",top:"-2px",left:"50%"},close:{width:"100%",transform:"rotate(45deg)",top:"-5px",left:"0px"}}})];var i=CONFIG.sidebar.width||320,r={},o={};function s(){var e=document.querySelector(".container").offsetHeight,t=document.getElementById("footer");t.classList.contains("footer-fixed")&&(e+=t.outerHeight(!0)),e<window.innerHeight?t.classList.add("footer-fixed"):t.classList.remove("footer-fixed")}({sidebarEl:document.querySelector(".sidebar"),isSidebarVisible:!1,init:function(){e.init(),window.addEventListener("mousedown",this.mousedownHandler.bind(this)),window.addEventListener("mouseup",this.mouseupHandler.bind(this)),document.querySelector("#sidebar-dimmer").addEventListener("click",this.clickHandler.bind(this)),document.querySelector(".sidebar-toggle").addEventListener("click",this.clickHandler.bind(this)),document.querySelector(".sidebar-toggle").addEventListener("mouseenter",this.mouseEnterHandler.bind(this)),document.querySelector(".sidebar-toggle").addEventListener("mouseleave",this.mouseLeaveHandler.bind(this)),this.sidebarEl.addEventListener("touchstart",this.touchstartHandler.bind(this)),this.sidebarEl.addEventListener("touchend",this.touchendHandler.bind(this)),this.sidebarEl.addEventListener("touchmove",function(e){return e.preventDefault()}),window.addEventListener("sidebar:show",this.showSidebar.bind(this)),window.addEventListener("sidebar:hide",this.hideSidebar.bind(this))},mousedownHandler:function(e){r.X=e.pageX,r.Y=e.pageY},mouseupHandler:function(e){var t=e.pageX-r.X,i=e.pageY-r.Y,s=Math.sqrt(t*t+i*i)<20&&e.target.matches(".main");this.isSidebarVisible&&(s||e.target.matches("img.medium-zoom-image, .fancybox img"))&&this.hideSidebar()},clickHandler:function(){this.isSidebarVisible?this.hideSidebar():this.showSidebar()},mouseEnterHandler:function(){this.isSidebarVisible||e.arrow()},mouseLeaveHandler:function(){this.isSidebarVisible||e.init()},touchstartHandler:function(e){o.X=e.touches[0].clientX,o.Y=e.touches[0].clientY},touchendHandler:function(e){var t=e.changedTouches[0].clientX-o.X,i=e.changedTouches[0].clientY-o.Y,s=Math.abs(i)<20&&(30<t&&n||t<-30&&!n);this.isSidebarVisible&&s&&this.hideSidebar()},showSidebar:function(){this.isSidebarVisible=!0,this.sidebarEl.classList.add("sidebar-active"),"function"==typeof Velocity&&(Velocity(document.querySelectorAll(".sidebar .motion-element:not(.site-state)"),n?"transition.slideRightIn":"transition.slideLeftIn",{stagger:50,drag:!0}),Velocity(document.querySelector(".site-state"),n?"transition.slideRightIn":"transition.slideLeftIn",{stagger:50,drag:!0,display:"flex"})),e.close(),NexT.utils.isDesktop()&&window.anime(Object.assign({targets:document.body,duration:400,easing:"linear"},n?{"padding-right":i}:{"padding-left":i}))},hideSidebar:function(){this.isSidebarVisible=!1,this.sidebarEl.classList.remove("sidebar-active"),e.init(),NexT.utils.isDesktop()&&window.anime(Object.assign({targets:document.body,duration:400,easing:"linear"},n?{"padding-right":0}:{"padding-left":0}))}}).init(),s(),window.addEventListener("resize",s),window.addEventListener("scroll",s)});